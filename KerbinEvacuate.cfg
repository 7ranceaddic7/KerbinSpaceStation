CONTRACT_TYPE
{
    // Unique name of the contract type (required)
    name = KerbinEvacuate

    // Contract title is displayed in the window in the corner, should be
    // short and descritive
    title = Evacuate the KSS

    // Reference to a CONTRACT_GROUP node which supplies additional rules
    // for limiting the number of contracts within a given group.
    group = Tier3StationMission

    // Two options for specifying the description:
    // 1) Supply the full text here in the description field
    description = We're picking up some worrying readings from our instruments on the KSS. To be on the safe side, we think you had better evacuate! (quickly)

    // The contract synopsis appears in bold.  Give a quick summary of the
    // contract objective.
    synopsis = Evacuate the KSS

    // The completedMessage is the message that is displayed when the
    // contract completes.
    completedMessage = Phew, it was a false alarm. Still, well done for saving everybody.
	
	weight = 0.05

    // Contract min/max expiry in days.  If both are set to 0.0, it will
    // result in a contract that never expires.
    // Default = 1.0 and 7.0 days, respectively
    minExpiry = 500.0
    maxExpiry = 1000.0

    // Contract deadline in days.  Default is no deadline.
    deadline = 500

    // Controls for whether a contract can be declined or cancelled, default
    // is true for both
    cancellable = false
    declinable = false

    prestige = Significant

    // The maximum instances of this contract that can be active at one
    // time (0 being unlimited).
    // Default = 0
    maxSimultaneous = 1

    rewardScience = 0.0
    rewardReputation = Random(1, 20.0)
    rewardFunds = Random(50000.0, 500000.0)
    failureReputation = Random(1, 10.0)
    failureFunds = Random(1, 50000.0)
    advanceFunds = Random(1, 50000.0)

DATA
{
    type = Vessel
	requiredValue = true
    targetVessel = [ LKOStation ].Random()
}
DATA
	{
	type = CelestialBody
	requiredValue = true
	targetBody = [Kerbin ].Random()
	}
	REQUIREMENT
	{
	name = StationCheck
	type = Expression
	
	expression = (@/targetVessel.IsOrbiting())
	}
	
	PARAMETER
{
    name = VesselParameterGroup
    type = VesselParameterGroup

    title = Fully evacuate the KSS

    vessel = LKOStation
	
    PARAMETER
    {
        name = HasCrew
        type = HasCrew
minCrew = 0
		    maxCrew = 0
			title = Leave no Kerbals on board the KSS.
		
    }
	}
DATA
    {
        type = Vessel
		requiredValue = false
        targetVessel = [ LKOStation ].Where(v => v.IsOrbiting()).Kerbin()
    }
	
REQUIREMENT
{
    name = StationHabitable
    type = CompleteContract

    contractType = KerbinHabModule
	
	minCount = 1
}

REQUIREMENT
{
    name = StationHabitable2
    type = CompleteContract

    contractType = KerbinPowerModule
	
	minCount = 1
}

REQUIREMENT
{
name = All
type = All
REQUIREMENT
{
    name = Rotation
    type = CompleteContract

    contractType = KerbinCrewRotation
	
	minCount = 1
	cooldownDuration = Random(100d, 120d)
}
REQUIREMENT
{
    name = Tier3
    type = CompleteContract

    contractType = KerbinRepairFaultyModule
	
	minCount = 0
	cooldownDuration = Random(100d, 120d)
	}
	REQUIREMENT
	{
    name = Tier3
    type = CompleteContract

    contractType = KerbinReplaceFaultyModule
	
	minCount = 0
	cooldownDuration = Random(100d, 120d)
}
	REQUIREMENT
	{
    name = Tier3
    type = CompleteContract

    contractType = KerbinEvacuate
	
	minCount = 0
	cooldownDuration = Random(100d, 120d)
}
REQUIREMENT:NEEDS[TACLifeSupport]
{
name = Tier3
type = CompleteContract
contractType = KerbinLSResupply
minCount = 0
cooldownDuration = Random(100d, 120d)
}
}
}