CONTRACT_TYPE
{
    // Unique name of the contract type (required)
    name = MunStationCore
	group = MunStation

    // Contract title is displayed in the window in the corner, should be
    // short and descriptive
    title = Launch a new Station Core into orbit around Mun

    // Two options for specifying the description:
    // 1) Supply the full text here in the description field
    description = We've been very happy with our station around Kerbin. Let's put one around Mun now!

    // The contract synopsis appears in bold.  Give a quick summary of the
    // contract objective.
    synopsis = Build a new Space Station Core in orbit around Mun.

    // The completedMessage is the message that is displayed when the
    // contract completes.
    completedMessage = The core is in place!

    // Contract min/max expiry in days.  Default is a contract that does not
        // expire.
        minExpiry = 1
        maxExpiry = 30

        // Contract deadline in days.  Default is no deadline.
        deadline = Random(1, 500)

        // Controls for whether a contract can be declined or cancelled, default is
        // true for both
        cancellable = true
        declinable = true

        // Target Celestial body - controls where the contract must be completed,
        // has some automated effects on numeric values (increasing science, etc.).
        // Also gets used in some of the parameter classes.
        //
        // Default = null (no celestial body)
        targetBody = Mun

        maxSimultaneous = 1

        // Contract rewards
        rewardScience = 0
        rewardReputation = Random(1.0, 100.0)
        rewardFunds = Random(50000.0, 500000.0)
        failureReputation = Random(1.0, 100.0)
        failureFunds = Random(50000.0, 500000.0)
        advanceFunds = Random(50000.0, 500000.0)

DATA
{
    type = Vessel
	requiredValue = false
    targetVessel = [ MunStation ].Random()
}


	
	PARAMETER
{
    name = NewMunStation
    type = VesselParameterGroup

    // The title text to display.
    // Default - Vessel: Any; Duration: <duration>
    // Note in future this will be expanded to support setting the parameters to
    // be for a specific vessel
    title = Launch a new Station Core with at least 1 Station Core Docking Port.

    // The duration that the conditions must be satisfied for.  Can specify
    // values in years (y), days (d), hours (h), minutes (m), seconds (s) or
    // any combination of those.
    // duration = 10s

    // Define the name of the craft that will complete this parameter group.
    // Once a craft completes the group, it will be associated with the
    // given key, which can then be referenced in other parameters.  The
    // Vessel <=> key association is persistent, and can be used in future
    // contracts.
    define = MunStation
	
PARAMETER
	{
    name = MunOrbit
    type = Orbit

    // Target body, defaulted from the contract if not supplied.
    targetBody = Mun

    // Situation to check for.  Valid list is a subset of Vessel.Situations:
    //     ESCAPING
    //     ORBITAL (default)
    //     SUB_ORBITAL
    situation = ORBITING

    // Minimum orbit altitude in meters.
    // Default = 0
    //minAltitude = 120000

    // Maximum orbit altitude in meters.
    // Default = double.MaxValue
    maxAltitude = 45000

        // Text to use for the parameter
    // Default Orbit: <orbit details>
    //title = Reach a stable orbit in low Mun space
	}	
PARAMETER
	{
    name = PartValidation
    type = PartValidation

    // PartModule(s) to check for.  Optional, and can be specified multiple times.
    part = StationPort

     minCount = 1
	title = Have the Station Core Docking Port on board.

	}
	}

REQUIREMENT
{
    name = PartModuleTypeUnlocked
    type = PartModuleTypeUnlocked

    // Type of PartModule that needs to be unlocked.  Can be specified
    // multiple times.  Valid values are defined in
    // Squad/Contracts/Contracts.cfg under MODULE_DEFINITIONS:
    //   Antenna
    //   Dock
    //   Grapple
    //   Power
    //   Wheel
    partModuleType = Dock
}
	
REQUIREMENT
{
    name = TechResearched
    type = TechResearched

    // The technology that needs to have been researched.  Take special note that
    // this does not get validated - if you make a typo, the requirement will
    // always return false.
    tech = specializedConstruction
}
REQUIREMENT
{
    name = NoStation
    type = Expression

    expression = (!@/targetVessel.IsOrbiting())
}
REQUIREMENT
	{
    name = LKOStationCheck
    type = CompleteContract

    contractType = KerbinStationCore
	
	minCount = 1
	cooldownDuration = Random(60d, 120d)
}
}